<section class="design left-side-bar">
    <div class="design-bar settings">
        <div class="design-bar-navigation">
            <!-- ko if: !template().isLoading() -->
            <ul class="design-bar-navigation-list">
                <!-- ko foreach: settingsTabs -->
                <li class="design-bar-navigation-item" data-bind="css: { selected: isSelected }, css2: name, click:$root.changeTab.bind($root)">
                    <div class="navigation-item-thumbnail settings-thumbnail" data-bind="css: name"></div>
                    <div class="navigation-item-title" data-bind="text:title"></div>
                </li>
                <!-- /ko -->
            </ul>
            <!-- /ko -->
        </div>

        <!-- ko if: tab() && tab().type=='external' -->
        <div class="design-bar-content custom">
            <!-- ko if: tab() && tab().type=='external' -->
            <!-- ko if: template().settingsAvailable && !settingsVisibility() -->
            <div data-bind="preloader: { settings: 'grey align-center', styles: { top: '300px' } }"></div>
            <!-- /ko -->
            <!-- ko if: template().settingsAvailable -->
            <iframe id="template-settings" class="template-settings" data-bind="style: { visibility: settingsVisibility() ? 'visible' : 'hidden' }, attr: { src: tab() && tab().url + '?v=' + appVersion + '&courseId=' + courseId + '&templateId=' + template().id }, event: { load: settingsFrameLoaded }, windowMessageListener: onGetTemplateMessage.bind($root)" frameborder="0"></iframe>
            <!-- /ko -->
            <!-- ko ifnot: template().settingsAvailable -->
            <span class="unavailable-settings" data-bind="localize: { text: 'templateDesignSettingsNotAvailable' }">Sorry, but the selected template doesn't contain design settings</span>
            <!-- /ko -->
            <!-- /ko -->
        </div>
        <!-- /ko -->
        <!-- ko if: tab() && tab().type=='default' -->
        <div class="design-bar-content" data-bind="scrollbar:{ checkDOMChanges: true }, compose: { model: tab(), activationData: [ settings, currentPreset && currentPreset.settings ] }">

        </div>
        <!-- /ko -->
        <!-- ko if: tab() && tab().type=='presets' -->
        <div class="design-bar-content" data-bind="scrollbar:{ checkDOMChanges: true }, compose: { model: tab(), activationData: [ template() && template().id, settings  ] }">

        </div>
        <!-- /ko -->
        <footer>
            <button class="disabled" data-bind="localize: { text: 'saveAsANewTheme' }" disabled></button>
        </footer>

    </div>

    <!-- ko foreach: popovers -->
    <!-- ko compose: { model: instance, compositionComplete: compositionComplete.bind($data) } -->
    <!-- /ko -->
    <!-- /ko -->

    <!-- ko foreach: textStyleElements -->
    <!-- ko compose: { model: instance, compositionComplete: compositionComplete.bind($data) } -->
    <!-- /ko -->
    <!-- /ko -->


</section>