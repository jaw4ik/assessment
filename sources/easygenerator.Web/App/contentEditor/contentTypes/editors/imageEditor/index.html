<div class="question-learning-content image-editor" data-bind="resizable: { init: twoImagesMode, enabled: isResizeMode, handler: sizeChanged }">
    <div class="image-editor-container" data-bind="click: startEditMode, css: { resizable: isResizeMode, inactive: !isReadyForEdit(), edit: isEditMode, 'link-editing': linkTooltipShowed }">
        <!-- ko if: isEditMode -->
        <div class="image-editor-edit-container" data-bind="outsideClick: { action: stopEditMode, debounce: true }, floatingToolbar: { parent: 'image-editor-container', scrollContainer: 'question-view-holder-wrapper', parentSizeChanged: isSizeChanged }">
            <div class="image-editor-edit-actions" data-bind="css: { shown: !isResizeMode() }">
                <div class="image-editor-edit-action-block" data-bind="dropDown: {}">
                    <button class="image-editor-edit-action-btn change" data-bind="tip: { key: 'changeImage' }"></button>
                    <ul class="change-image-options">
                        <li class="item">
                            <div class="image-editor-btn upload" data-bind="browse: { callback: upload.bind($data), accept: '.png, .jpg, .jpeg, .gif, .bmp'}">
                                <span class="btn-text" data-bind="localize: { text: 'uploadFromPC' }"></span>
                            </div>
                        </li>
                        <li class="item">
                            <div class="image-editor-btn library" data-bind="click: getFromLibrary">
                                <span class="btn-text" data-bind="localize: { text: 'chooseFromLibrary' }"></span>
                            </div>
                        </li>
                        <li class="item">
                            <div class="image-editor-btn link" data-bind="click: showLinkTooltip, outsideClick: { action: hideLinkTooltip }, stopPropagation: {}">
                                <span class="btn-text" data-bind="localize: { text: 'addFromLink' }"></span>
                                <div class="image-editor-link-container" data-bind="css: { showed: linkTooltipShowed }, stopPropagation: {}">
                                    <textarea class="image-editor-link-input" data-bind="localize: { placeholder: 'pasteOrTypeImageLink' }, textInput: imageUrlFromLink"></textarea>
                                    <a class="link-back" data-bind="click: hideLinkTooltip, localize: { text: 'back' }"></a>
                                    <button class="btn green" data-bind="localize: { text: 'ok' }, click: getFromLink"></button>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- ko ifnot: twoImagesMode -->
                <button class="image-editor-edit-action-btn left" data-bind="click: toLeft, css: { active: contentType() === constants.contentsTypes.imageInTheLeft }, tip: { key: 'imageInTheLeft' }"></button>
                <button class="image-editor-edit-action-btn right" data-bind="click: toRight, css: { active: contentType() === constants.contentsTypes.imageInTheRight }, tip: { key: 'imageInTheRight' }"></button>
                <button class="image-editor-edit-action-btn center" data-bind="click: toCenter, css: { active: contentType() === constants.contentsTypes.imageEditorOneColumn }, tip: { key: 'imageInTheCenter' }"></button>
                <!-- /ko -->
                <!-- ko if: twoImagesMode -->
                <button class="image-editor-edit-action-btn swap" data-bind="click: swap, tip: { key: 'swapImages' }"></button>
                <!-- /ko -->
                <button class="image-editor-edit-action-btn cropper" data-bind="click: startResizing, tip: { key: 'resizeCropImage' }"></button>
            </div>
            <div class="image-editor-edit-resize" data-bind="css: { shown: isResizeMode }">
                <p data-bind="localize: { text: 'zoom' }" />
                <div class="slider-control-wrapper">
                    <div data-bind="sliderControl: { value: scale, min: 0.5, max: 2, step: 0.1, events: { change: scaleChanged, slide: scaleChanged } }"></div>
                </div>
                <button class="image-editor-edit-resize-scale-to-default-btn" data-bind="click: resetImage, tip: { key: 'fillTheArea' }"></button>
                <button class="btn green" data-bind="localize: { text: 'ok' }, click: stopResizing"></button>
            </div>
        </div>
        <!-- /ko -->

        <div class="image-editor-wrapper" data-bind="resizable: { init: !twoImagesMode(), enabled: isResizeMode, handler: sizeChanged }">
            <!-- ko compose: imageCropper -->
            <!-- /ko -->
        </div>
    </div>
</div>