<section data-bind="with: dragAndDrop">
    <div class="content-section-wrapper">
        <div class="content-section">
            <!-- ko if: isExpanded -->
            <div class="expand-collapse-panel expanded" data-bind="click: toggleExpand">
                <span class="expand-collapse-panel-label" data-bind="localize: { text: 'dragAndDropTextDesigner' }">Drag'n'drop designer</span>
                <div class="expand-collapse-panel-btn" title="Collapse" data-bind="click: toggleExpand, localize: { title: 'collapse' }"></div>
            </div>
            <!-- /ko -->
            <!-- ko ifnot: isExpanded -->
            <div class="expand-collapse-panel collapsed" data-bind="click: toggleExpand">
                <span class="expand-collapse-panel-label" data-bind="localize: { text: 'dragAndDropTextDesigner' }">Drag'n'drop designer</span>
                <div class="expand-collapse-panel-btn" title="Expand" data-bind="localize: { title: 'expand' }"></div>
            </div>
            <!-- /ko -->
        </div>
    </div>
    <!-- ko if: isExpanded -->
    <div class="content-section-wrapper answer-options">
        <div class="question-answer-options-area">
            <div class="content-section">
                <!-- ko if: background -->
                <div class="drag-and-drop-designer">

                    <div class="drag-and-drop-designer-background-wrapper">
                        <div class="drag-and-drop-designer-background" data-bind="background: background">
                            <!-- ko foreach: dropspots -->
                            <div class="draggable drag-and-drop-designer-draggable" data-bind="draggableText: { text: text, x: position.x, y: position.y, startMove: position.startMoveDropspot, endMove: function(data, event){ $parent.dropspotEndEdit($data); position.endMoveDropspot(data, event); } }"></div>
                            <!-- /ko -->
                        </div>
                    </div>
                    <div class="upload-background-image info-tooltip-holder" data-bind="click: uploadBackground">
                        <div class="info-tooltip browse-image">
                            <span data-bind="localize: { text: 'browseImage' }">Browse image</span>
                        </div>
                    </div>

                    <div class="drag-and-drop-text-title" data-bind="localize: { text: 'dragAndDropText' }">Drag&amp;drop text</div>


                    <ul class="unstyled">
                        <!-- ko foreach: dropspots -->
                        <li class="dropspot-text">
                            <div>
                                <div class="editarea-editable-text selectable" data-bind="editableText: { text: text, multiline: false }, hasFocus: text.hasFocus, event: { focus: text.beginEditText, blur: function(data, event){ $parent.dropspotEndEdit($data); text.endEditText(data, event); } }">
                                </div>
                            </div>
                            <div class="dropspot-text-delete-wrapper">
                                <span class="dropspot-text-delete" title="Delete" data-bind="click: $parent.removeDropspot, localize: { title: 'delete' }"></span>
                            </div>
                        </li>
                        <!-- /ko -->
                        <!-- ko if: dropspotToAdd.isVisible -->
                        <li class="dropspot-text">
                            <div>
                                <div class="editarea-editable-text selectable" data-bind="editableText: { text: dropspotToAdd, multiline: false }, event: { blur: addDropspot }, hasFocus: true">
                                </div>
                            </div>
                            <div class="dropspot-text-delete-wrapper">
                                <span class="dropspot-text-delete disabled"></span>
                            </div>
                        </li>
                        <!--/ko -->
                    </ul>

                    <button class="btn action-item-btn green" data-bind="click: dropspotToAdd.show, enable: !dropspotToAdd.isVisible() || dropspotToAdd.isValid(), css: { disabled: dropspotToAdd.isVisible() && !dropspotToAdd.isValid() }">+ <span data-bind="localize: { text: 'addDropspotText' }">Add dropspot text</span></button>
                </div>
                <!-- /ko -->
                <!-- ko ifnot: background -->
                <div class="drag-and-drop-designer-empty" style="">
                    <div class="drag-and-drop-designer-empty-title" data-bind="localize: { text: 'dragAndDrop ' }">Drag&amp;drop </div>
                    <div class="drag-and-drop-designer-empty-description" data-bind="localize: { text: 'dragAndDropTextEmptyBackgroundDescription' }">your background image here or</div>
                    <div class="browse-image-btn-wrapper">
                        <button class="browse-image-btn" data-bind="click: uploadBackground">
                            <span class="browse-image-text" data-bind="localize: { text: 'browse' }">Browse</span>
                        </button>
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>
    <!-- /ko -->
</section>