<section class="course design view-module">
    <div class="content-section-wrapper">
        <div class="content-section">
            <div class="choose-template-title-container" data-bind="click: templatesListCollapsed() ? toggleTemplatesListVisibility : null, css: { clickable: templatesListCollapsed() }">
                <h2 class="choose-template-title">
                    <span data-bind="localize: { text: templatesListCollapsed() ? 'currentTemplate' : 'chooseTemplate' }"></span>
                    <span class="current-template-name-minus" data-bind="visible: templatesListCollapsed">-</span>
                    <span class="current-template-name" data-bind="text: '('+currentTemplate().name+')', visible: templatesListCollapsed"></span>
                </h2>
                <div class="tooltip-icon" data-bind="tooltip:'top', stopEventPropagation: { event: 'click' }">
                    <h4 class="tooltip-title" data-bind="localize: { html: 'tooltipCourseTemplateTitle'}"></h4>
                    <div class="tooltip-content" data-bind="localize: { html: 'tooltipCourseTemplateDescription'}">
                    </div>
                    <div class="tooltip-buttons-holder" data-bind="localize: { html: 'tooltipCourseTemplateLink'}">
                    </div>
                </div>
                <button class="visibility-switcher"
                        data-bind="localize: { html: templatesListCollapsed() ? 'plus' : 'minus' }, click: toggleTemplatesListVisibility, stopEventPropagation: { event: 'click' }"></button>
            </div>
            <div class="choose-template-holder" data-bind="elementCollapse: templatesListCollapsed">
                <ul class="choose-template-list unstyled" data-animate="">
                    <!-- ko foreach: templates -->
                    <li class="choose-template-item" data-bind="css: { 'marked-as-new': isNew }">
                        <div class="template-image-container" data-bind="css: { selected: $data == $parent.currentTemplate() }, click: $parent.selectTemplate">
                            <div class="template-settings-spinner" data-bind="visible: $data == $parent.loadingTemplate()">
                                <div class="circular-loader x32 grey align-center">
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                    <div class="circular-loader-item"></div>
                                </div>
                            </div>
                            <img class="template-image" data-bind="attr: {src: previewImages[0]}, css: { 'transparent': $data == $parent.loadingTemplate() }" src="" alt="" />
                            <div class="choose-template-action-container" data-bind="visible: $data != $parent.loadingTemplate()">
                                <a href="" class="preview-link" data-bind="localize: { text: 'preview'}, visible: previewDemoUrl, click: openPreview">Preview</a>
                                <button class="choose-template-btn preview" data-bind="localize: { text: 'preview'}, visible: previewDemoUrl, click: openPreview">Preview</button>
                                <button class="choose-template-btn select" data-bind="localize: { text: 'select'}">Select</button>
                            </div>
                            <div class="selected-template"></div>
                        </div>
                        <div class="template-name" data-bind="text: name"></div>
                    </li>
                    <!-- /ko -->
                </ul>
            </div>
        </div>
    </div>
    <div class="template-settings-wrapper">
        <div class="content-section-wrapper">
            <h2 class="content-section template-settings-header">Define template settings</h2>
        </div>
        <div class="content-section-wrapper template-settings">
            <div class="content-section">
                <div class="template-settings-block">
                    <!-- ko ifnot: settingsVisibility -->
                    <div class="template-settings-spinner">
                        <div class="circular-loader x32 black align-center">
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                            <div class="circular-loader-item"></div>
                        </div>
                    </div>
                    <!-- /ko -->
                    <iframe id="template-settings" data-bind="style: { visibility: settingsVisibility() ? 'visible' : 'hidden', display: displaySettings() ? '' : 'none' }, attr: { src: currentTemplate().settingsUrl + '?v=' + appVersion + '&courseId=' + courseId + '&templateId=' + currentTemplate().id }, event: { load: frameLoaded }, windowMessageListener: onGetTemplateMessage" frameborder="0" width="100%" height="2500px"></iframe>
                </div>
            </div>
        </div>
    </div>
</section>


