<section>
    <div class="package-actions-holder">
        <div class="package-actions-content clearfix">
            <aside class="actions-right-column clearfix pull-right">
                <!--<div class="action-arrow right" data-bind="css: { disabled: status() != statuses.succeed || publishingState() == statuses.inProgress }">
                    <i class="icon-item"></i>
                </div>-->

                <!--*
                    * DOWNLOAD BUTTON CONDITIONS 
                    * -->

                <div class="package-action-btn-holder pull-right">
                    <!--*
                        * TOOLTIP
                        * -->
                    <div class="action-explanation-tooltip-container" data-bind="visible: showDownloadDescription">
                        <div class="action-explanation-tooltip-wrapper">
                            <div class="action-explanation-tooltip">
                                <span class="action-explanation-tooltip-text" data-bind="localize: { text: 'downloadDescription' }">Download learning experience in order to publish it on your own webserver</span>
                                <div class="action-explanation-tooltip-triangle"></div>
                            </div>
                        </div>
                    </div>

                    <!-- ko if: deliveringState() !== states.building && deliveringState() !== states.publishing -->
                    <div class="package-action-btn btn grey download-btn" data-bind="click: downloadExperience, hover: showDownloadDescription">
                        <span class="btn-title" data-bind="localize: { text: 'experienceDownloadAction' }">Download</span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: deliveringState() === states.publishing || (deliveringState() === states.building && buildingForPublish())-->
                    <div class="package-action-btn btn grey download-btn disabled">
                        <span class="btn-title" data-bind="localize: { text: 'experienceDownloadAction' }">Download</span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: deliveringState() === states.building && !buildingForPublish()-->
                    <div class="package-action-btn btn grey download-btn">
                        <span class="btn-title" data-bind="localize: { text: 'assembling' }">assembling...</span>
                    </div>
                    <!-- /ko -->
                </div>
                <!-- link to render package url to and click after assembling -->
                <a id="packageLink" style="display:none" data-bind="attr: { href: 'download/' + packageUrl() }"></a>
            </aside>
            <aside class="actions-left-column">
                <!--* CREATE/UPDATE BUTTON CONDITIONS 
                
                    <div class="package-action-btn-holder">
                        <div class="action-explanation-tooltip-container" data-bind="visible: showBuildDescription() || showRebuildDescription()">
                            <div class="action-explanation-tooltip-wrapper">
                                <div class="action-explanation-tooltip">

                                    <span class="action-explanation-tooltip-text" data-bind="visible: showBuildDescription, localize: { text: 'createPackageDescription' }">Assemble learning experience</span>
                                    <span class="action-explanation-tooltip-text" data-bind="visible: showRebuildDescription, localize: { text: 'updatePackageDescription' }">Reassemble learning experience</span>

                                    <div class="action-explanation-tooltip-triangle"></div>
                                </div>
                            </div>
                        </div>                  
                        <div class="package-action-btn btn orange create-package-btn" data-bind="click: buildExperience, hover: showBuildDescription">
                            <span class="btn-title" data-bind="localize: { text: 'createPackage' }">Create package</span>
                        </div>
                        <div class="package-action-btn btn orange creating-btn">
                            <span class="btn-title" data-bind="localize: { text: 'creatingStatus' }">Creating...</span>
                            <span class="btn-title" data-bind="localize: { text: 'updatingStatus' }">Updating...</span>
                        </div>
                        <div class="package-action-btn btn orange create-package-btn" data-bind="click: buildExperience, hover: showRebuildDescription">
                            <span class="btn-title" data-bind="localize: { text: 'updatePackage' }">Update package</span>
                        </div>
                        <div class="package-action-btn btn orange create-package-btn disabled">
                            <span class="btn-title" data-bind="localize: { text: 'updatePackage' }">Update package</span>
                        </div>
                    </div>
                    <div class="action-arrow down" data-bind="css: { disabled: status() != statuses.succeed || publishingState() == statuses.inProgress }">
                        <span class="icon-item"></span>
                    </div>  -->

                <!--*
                    * PUBLISH/REPUBLISH BUTTON CONDITIONS 
                    * -->

                <!-- not show tooltip if disabled button and/or status in progress -->
                <div class="package-action-btn-holder">

                    <!--*
                        * TOOLTIP
                        * -->
                    <div class="action-explanation-tooltip-container" data-bind="visible: (showPublishDescription() || showRepublishDescription())">
                        <div class="action-explanation-tooltip-wrapper">
                            <div class="action-explanation-tooltip">

                                <span class="action-explanation-tooltip-text" data-bind="visible: showPublishDescription(), localize: { text: 'publishOnlineDesciption' }">Publish learning experience on easygenerator webserver</span>
                                <span class="action-explanation-tooltip-text" data-bind="visible: showRepublishDescription(), localize: { text: 'republishOnlineDescription' }">Republish learning experience on easygenerator webserver</span>

                                <div class="action-explanation-tooltip-triangle"></div>
                            </div>
                        </div>
                    </div>

                    <!--*
                        * PUBLISH BUTTON
                        * -->
                    <!-- ko if: !publishPackageExists() -->
                    <!-- ko if: deliveringState() !== states.building && deliveringState() !== states.publishing -->
                    <div class="package-action-btn btn green publish-btn" data-bind="click: publishExperience, hover: showPublishDescription">
                        <span class="btn-title" data-bind="localize: { text: 'publishOnline' }">Publish online</span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: deliveringState() == states.building && !buildingForPublish() -->
                    <div class="package-action-btn btn green publish-btn disabled">
                        <span class="btn-title" data-bind="localize: { text: 'publishOnline' }">Publish online</span>
                    </div>
                    <!-- /ko -->
                    <!-- /ko -->

                    <!--*
                        * PUBLISH\REPUBLISH IN PROGRESS STATUS 
                        * -->

                    <!-- ko if: deliveringState() === states.building && buildingForPublish() -->
                    <div class="package-action-btn btn green publishing-btn">
                        <span class="btn-title" data-bind="localize: { text: 'assembling' }">assembling...</span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: deliveringState() === states.publishing -->
                    <div class="package-action-btn btn green publishing-btn">
                        <span class="btn-title" data-bind="localize: { text: 'publishing' }">publishing...</span>
                    </div>
                    <!-- /ko -->

                    <!--*
                        * REPUBLISH BUTTON
                        * -->
                    <!-- ko if: publishPackageExists() -->
                    <!-- ko if: deliveringState() !== states.building && deliveringState() !== states.publishing -->
                    <div class="package-action-btn btn green publish-btn" data-bind="click: publishExperience, hover: showRepublishDescription">
                        <span class="btn-title" data-bind="localize: { text: 'republishOnline' }">Republish online</span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: deliveringState() == states.building && !buildingForPublish() -->
                    <div class="package-action-btn btn green publish-btn disabled">
                        <span class="btn-title" data-bind="localize: { text: 'republishOnline' }">Republish online</span>
                    </div>
                    <!-- /ko -->
                    <!-- /ko -->
                </div>
            </aside>
            <!-- ko if: publishPackageExists() -->
            <aside class="copy-link-control" data-bind="css: { disabled: isDelivering() }">
                <div class="copy-link-input-wrapper">
                    <input class="copy-link-input" type="text" readonly="readonly" data-bind="value: publishedPackageUrl(), css: { selectable: !isDelivering() }, selectTextBinding: publishPackageExists()" />
                </div>
                <div class="open-link-btn-wrapper package-action-btn-holder">
                    <div class="open-link-description-wrapper">
                        <div class="action-explanation-tooltip-container" data-bind="visible: !isDelivering() && showOpenLinkDescription">
                            <div class="action-explanation-tooltip-wrapper">
                                <div class="action-explanation-tooltip">
                                    <span class="action-explanation-tooltip-text" data-bind="localize: { text: 'openLinkDescription' }">Open link to view learning experience</span>
                                    <div class="action-explanation-tooltip-triangle"></div>
                                </div>
                            </div>
                        </div>
                        <!-- ko ifnot: isDelivering() -->
                        <a class="open-link-btn" data-bind="click: openPublishedExperience, hover: showOpenLinkDescription, attr: { href: publishedPackageUrl }">
                            <span class="open-link-text" data-bind="localize: { text: 'openLink' }">Open link</span>
                        </a>    
                        <!-- /ko -->
                        <!-- ko if: isDelivering() -->
                        <a class="open-link-btn" href="javascript: return false;">
                            <span class="open-link-text" data-bind="localize: { text: 'openLink' }">Open link</span>
                        </a>    
                        <!-- /ko -->
                    </div>
                </div>
            </aside>
            <!-- ko ifnot: isDelivering() -->
            <div class="copy-link-description-holder">
                <span class="actions-description" data-bind="localize: { text: 'publishingLinkDescription' }">Share this link with your learners</span>
            </div>
            <!-- /ko -->
            <!-- /ko -->
        </div>
    </div>
</section>
